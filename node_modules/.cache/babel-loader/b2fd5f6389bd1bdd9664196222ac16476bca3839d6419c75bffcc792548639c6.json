{"ast":null,"code":"var _jsxFileName = \"/Users/rahulsharma/Downloads/inflight-insight/src/components/PieChartComponent.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { PieChart, Pie, Cell, Tooltip } from \"recharts\";\nimport data from \"../data/foodData.json\";\nimport { useNavigate } from \"react-router-dom\";\nimport jsPDF from \"jspdf\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PieChartComponent = () => {\n  _s();\n  const navigate = useNavigate();\n\n  // Group by consumption status\n  const grouped = data.reduce((acc, item) => {\n    const status = item[\"Consumption Status\"];\n    acc[status] = acc[status] || [];\n    acc[status].push(item);\n    return acc;\n  }, {});\n  const pieData = Object.entries(grouped).map(([name, items]) => ({\n    name,\n    value: items.length\n  }));\n  const COLORS = [\"#8884d8\", \"#82ca9d\", \"#ffc658\"]; // Purple, Green, Yellow\n\n  const handleClick = entry => {\n    const selected = grouped[entry.name];\n    const doc = new jsPDF();\n\n    // Title and summary\n    doc.setFontSize(18);\n    doc.text(`Summary for: ${entry.name}`, 10, 15);\n    doc.setFontSize(12);\n    doc.text(`Total Trays: ${selected.length}`, 10, 25);\n\n    // Table header\n    doc.setFontSize(10);\n    let y = 35;\n    doc.text(\"Tray ID\", 10, y);\n    doc.text(\"Food Item\", 30, y);\n    doc.text(\"Age Group\", 70, y);\n    doc.text(\"Meal\", 95, y);\n    doc.text(\"Route\", 120, y);\n    doc.text(\"Weight (g)\", 160, y);\n    y += 5;\n\n    // Table content\n    selected.forEach((item, i) => {\n      if (y > 280) {\n        doc.addPage();\n        y = 15;\n      }\n      doc.text(item[\"Tray ID\"], 10, y);\n      doc.text(item[\"Food Item\"], 30, y);\n      doc.text(item[\"Passenger Age\"], 70, y);\n      doc.text(item[\"Meal Type\"], 95, y);\n      doc.text(item[\"Flight Route\"], 120, y);\n      doc.text(item[\"Weight (g)\"].toString(), 160, y);\n      y += 5;\n    });\n\n    // Save the file\n    doc.save(`${entry.name.replace(\" \", \"_\")}_Summary.pdf`);\n  };\n  return /*#__PURE__*/_jsxDEV(PieChart, {\n    width: 400,\n    height: 300,\n    children: [/*#__PURE__*/_jsxDEV(Pie, {\n      data: pieData,\n      cx: \"50%\",\n      cy: \"50%\",\n      labelLine: false,\n      outerRadius: 100,\n      dataKey: \"value\",\n      onClick: handleClick,\n      children: pieData.map((_, index) => /*#__PURE__*/_jsxDEV(Cell, {\n        fill: COLORS[index % COLORS.length],\n        cursor: \"pointer\"\n      }, `cell-${index}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_s(PieChartComponent, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = PieChartComponent;\nexport default PieChartComponent;\nvar _c;\n$RefreshReg$(_c, \"PieChartComponent\");","map":{"version":3,"names":["React","PieChart","Pie","Cell","Tooltip","data","useNavigate","jsPDF","jsxDEV","_jsxDEV","PieChartComponent","_s","navigate","grouped","reduce","acc","item","status","push","pieData","Object","entries","map","name","items","value","length","COLORS","handleClick","entry","selected","doc","setFontSize","text","y","forEach","i","addPage","toString","save","replace","width","height","children","cx","cy","labelLine","outerRadius","dataKey","onClick","_","index","fill","cursor","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/rahulsharma/Downloads/inflight-insight/src/components/PieChartComponent.jsx"],"sourcesContent":["import React from \"react\";\nimport { PieChart, Pie, Cell, Tooltip } from \"recharts\";\nimport data from \"../data/foodData.json\";\nimport { useNavigate } from \"react-router-dom\";\nimport jsPDF from \"jspdf\";\n\nconst PieChartComponent = () => {\n  const navigate = useNavigate();\n\n  // Group by consumption status\n  const grouped = data.reduce((acc, item) => {\n    const status = item[\"Consumption Status\"];\n    acc[status] = acc[status] || [];\n    acc[status].push(item);\n    return acc;\n  }, {});\n\n  const pieData = Object.entries(grouped).map(([name, items]) => ({\n    name,\n    value: items.length,\n  }));\n\n  const COLORS = [\"#8884d8\", \"#82ca9d\", \"#ffc658\"]; // Purple, Green, Yellow\n\n  const handleClick = (entry) => {\n    const selected = grouped[entry.name];\n    const doc = new jsPDF();\n\n    // Title and summary\n    doc.setFontSize(18);\n    doc.text(`Summary for: ${entry.name}`, 10, 15);\n    doc.setFontSize(12);\n    doc.text(`Total Trays: ${selected.length}`, 10, 25);\n\n    // Table header\n    doc.setFontSize(10);\n    let y = 35;\n    doc.text(\"Tray ID\", 10, y);\n    doc.text(\"Food Item\", 30, y);\n    doc.text(\"Age Group\", 70, y);\n    doc.text(\"Meal\", 95, y);\n    doc.text(\"Route\", 120, y);\n    doc.text(\"Weight (g)\", 160, y);\n    y += 5;\n\n    // Table content\n    selected.forEach((item, i) => {\n      if (y > 280) {\n        doc.addPage();\n        y = 15;\n      }\n      doc.text(item[\"Tray ID\"], 10, y);\n      doc.text(item[\"Food Item\"], 30, y);\n      doc.text(item[\"Passenger Age\"], 70, y);\n      doc.text(item[\"Meal Type\"], 95, y);\n      doc.text(item[\"Flight Route\"], 120, y);\n      doc.text(item[\"Weight (g)\"].toString(), 160, y);\n      y += 5;\n    });\n\n    // Save the file\n    doc.save(`${entry.name.replace(\" \", \"_\")}_Summary.pdf`);\n  };\n\n  return (\n    <PieChart width={400} height={300}>\n      <Pie\n        data={pieData}\n        cx=\"50%\"\n        cy=\"50%\"\n        labelLine={false}\n        outerRadius={100}\n        dataKey=\"value\"\n        onClick={handleClick}\n      >\n        {pieData.map((_, index) => (\n          <Cell\n            key={`cell-${index}`}\n            fill={COLORS[index % COLORS.length]}\n            cursor=\"pointer\"\n          />\n        ))}\n      </Pie>\n      <Tooltip />\n    </PieChart>\n  );\n};\n\nexport default PieChartComponent;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,GAAG,EAAEC,IAAI,EAAEC,OAAO,QAAQ,UAAU;AACvD,OAAOC,IAAI,MAAM,uBAAuB;AACxC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC9B,MAAMC,QAAQ,GAAGN,WAAW,CAAC,CAAC;;EAE9B;EACA,MAAMO,OAAO,GAAGR,IAAI,CAACS,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAK;IACzC,MAAMC,MAAM,GAAGD,IAAI,CAAC,oBAAoB,CAAC;IACzCD,GAAG,CAACE,MAAM,CAAC,GAAGF,GAAG,CAACE,MAAM,CAAC,IAAI,EAAE;IAC/BF,GAAG,CAACE,MAAM,CAAC,CAACC,IAAI,CAACF,IAAI,CAAC;IACtB,OAAOD,GAAG;EACZ,CAAC,EAAE,CAAC,CAAC,CAAC;EAEN,MAAMI,OAAO,GAAGC,MAAM,CAACC,OAAO,CAACR,OAAO,CAAC,CAACS,GAAG,CAAC,CAAC,CAACC,IAAI,EAAEC,KAAK,CAAC,MAAM;IAC9DD,IAAI;IACJE,KAAK,EAAED,KAAK,CAACE;EACf,CAAC,CAAC,CAAC;EAEH,MAAMC,MAAM,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC;;EAElD,MAAMC,WAAW,GAAIC,KAAK,IAAK;IAC7B,MAAMC,QAAQ,GAAGjB,OAAO,CAACgB,KAAK,CAACN,IAAI,CAAC;IACpC,MAAMQ,GAAG,GAAG,IAAIxB,KAAK,CAAC,CAAC;;IAEvB;IACAwB,GAAG,CAACC,WAAW,CAAC,EAAE,CAAC;IACnBD,GAAG,CAACE,IAAI,CAAC,gBAAgBJ,KAAK,CAACN,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;IAC9CQ,GAAG,CAACC,WAAW,CAAC,EAAE,CAAC;IACnBD,GAAG,CAACE,IAAI,CAAC,gBAAgBH,QAAQ,CAACJ,MAAM,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;;IAEnD;IACAK,GAAG,CAACC,WAAW,CAAC,EAAE,CAAC;IACnB,IAAIE,CAAC,GAAG,EAAE;IACVH,GAAG,CAACE,IAAI,CAAC,SAAS,EAAE,EAAE,EAAEC,CAAC,CAAC;IAC1BH,GAAG,CAACE,IAAI,CAAC,WAAW,EAAE,EAAE,EAAEC,CAAC,CAAC;IAC5BH,GAAG,CAACE,IAAI,CAAC,WAAW,EAAE,EAAE,EAAEC,CAAC,CAAC;IAC5BH,GAAG,CAACE,IAAI,CAAC,MAAM,EAAE,EAAE,EAAEC,CAAC,CAAC;IACvBH,GAAG,CAACE,IAAI,CAAC,OAAO,EAAE,GAAG,EAAEC,CAAC,CAAC;IACzBH,GAAG,CAACE,IAAI,CAAC,YAAY,EAAE,GAAG,EAAEC,CAAC,CAAC;IAC9BA,CAAC,IAAI,CAAC;;IAEN;IACAJ,QAAQ,CAACK,OAAO,CAAC,CAACnB,IAAI,EAAEoB,CAAC,KAAK;MAC5B,IAAIF,CAAC,GAAG,GAAG,EAAE;QACXH,GAAG,CAACM,OAAO,CAAC,CAAC;QACbH,CAAC,GAAG,EAAE;MACR;MACAH,GAAG,CAACE,IAAI,CAACjB,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,EAAEkB,CAAC,CAAC;MAChCH,GAAG,CAACE,IAAI,CAACjB,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE,EAAEkB,CAAC,CAAC;MAClCH,GAAG,CAACE,IAAI,CAACjB,IAAI,CAAC,eAAe,CAAC,EAAE,EAAE,EAAEkB,CAAC,CAAC;MACtCH,GAAG,CAACE,IAAI,CAACjB,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE,EAAEkB,CAAC,CAAC;MAClCH,GAAG,CAACE,IAAI,CAACjB,IAAI,CAAC,cAAc,CAAC,EAAE,GAAG,EAAEkB,CAAC,CAAC;MACtCH,GAAG,CAACE,IAAI,CAACjB,IAAI,CAAC,YAAY,CAAC,CAACsB,QAAQ,CAAC,CAAC,EAAE,GAAG,EAAEJ,CAAC,CAAC;MAC/CA,CAAC,IAAI,CAAC;IACR,CAAC,CAAC;;IAEF;IACAH,GAAG,CAACQ,IAAI,CAAC,GAAGV,KAAK,CAACN,IAAI,CAACiB,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,cAAc,CAAC;EACzD,CAAC;EAED,oBACE/B,OAAA,CAACR,QAAQ;IAACwC,KAAK,EAAE,GAAI;IAACC,MAAM,EAAE,GAAI;IAAAC,QAAA,gBAChClC,OAAA,CAACP,GAAG;MACFG,IAAI,EAAEc,OAAQ;MACdyB,EAAE,EAAC,KAAK;MACRC,EAAE,EAAC,KAAK;MACRC,SAAS,EAAE,KAAM;MACjBC,WAAW,EAAE,GAAI;MACjBC,OAAO,EAAC,OAAO;MACfC,OAAO,EAAErB,WAAY;MAAAe,QAAA,EAEpBxB,OAAO,CAACG,GAAG,CAAC,CAAC4B,CAAC,EAAEC,KAAK,kBACpB1C,OAAA,CAACN,IAAI;QAEHiD,IAAI,EAAEzB,MAAM,CAACwB,KAAK,GAAGxB,MAAM,CAACD,MAAM,CAAE;QACpC2B,MAAM,EAAC;MAAS,GAFX,QAAQF,KAAK,EAAE;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAGrB,CACF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eACNhD,OAAA,CAACL,OAAO;MAAAkD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEf,CAAC;AAAC9C,EAAA,CAhFID,iBAAiB;EAAA,QACJJ,WAAW;AAAA;AAAAoD,EAAA,GADxBhD,iBAAiB;AAkFvB,eAAeA,iBAAiB;AAAC,IAAAgD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}